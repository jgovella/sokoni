<ion-view view-title="Sales Management">
  <ion-content>
  <form ng-controller ="salesCtrl as sales" name="salesForm" novalidate="" ng-submit ="preview(salesForm)">
  <div ng-if="WRegion">
  <div class="info">
				<a href="#/app/Saleslocalstorage" ng-if="localSavedData.length > 0" class="button button-block button-clear button-positive ">
                    You have {{localSavedData.length}} Item(s) waiting sync </a> 
					</div>
					<div class="subheader-content"  > <a href="#/app/setting" class="button button-block button-clear button-dark "
                                             style="margin:0 !important">
            <i class="icon ion-location"></i>&nbsp; {{WRegion}} &nbsp; >> &nbsp;{{WDistrict}}&nbsp;</a>   </div>
                <div class="info" ng-if="isOffline">You work offline </div>
<div class="list card">
                <label class="item item-input item-select" ng-class="{'has-error-lr' : salesForm.customer.$invalid  && salesForm.$submitted}">
                    <div class="input-label">
                        Customer Name
                    </div>
                    <select ng-model="details.customer" ng-options="customer as customer.name for customer in customers " name="customer" required>
                        <option disabled value="">Select</option>
                    </select>
                </label>
            </div>
<div class="card">
               <div class="item item-divider"> Products </div> 
                <div class="list-inset" style="margin:0 !important" ng-repeat= "elemnt in brandElemnts">
                    <ng-form name="brandForm">
                       <label class="item item-input item-select" 
                                   ng-class="{'has-error-lr' :brandForm.name.$invalid  && stockForm.$submitted}"
                                   >
                                <div class="input-label">
                                    Product name
                                </div>
                                <select ng-model="elemnt.name" ng-options=" brand as  brand.name for  brand in  brands " 
                                        name="name"
                                        required>
                                    <option disabled  value="">Select Product</option>
                                </select>   
                            </label>
                        <label class="item item-input" 
                               ng-class="{ 'has-error-lr' :salesForm.quantity.$invalid  && salesForm.$submitted}">
                            <div class="input-label">
                                Quantity
                            </div>
                            <input type="number" name="quantity" 
                                   ng-model="elemnt.quantity" placeholder="0" required >
                        </label>
						<label class="item item-input" 
                               ng-class="{ 'has-error-lr' :salesForm.price.$invalid  && salesForm.$submitted}">
                            <div class="input-label">
                                Price
                            </div>
                            <input type="number" name="price" 
                                   ng-model="elemnt.price" placeholder="0" required >
                        </label>
                    </ng-form>
                </div>  
                <div class="item item-divider">
                    <a href ng-click="newItem($event)" class="button icon-left ion-plus-round">Item</a>  
                    <span ng-hide="brandElemnts.length == 1">
                        <a href ng-click="brandElemnts.splice($index, 1)" class="button icon-left ion-minus-round">remove</a>
                    </span>
                </div>
            </div>
			<div class="list card">
			<ul class="list">
Mode of Payment
  <li class="item item-checkbox">
     <label class="checkbox">
       <input type="checkbox" ng-model="details.cash" value="1">
     </label>
     Cash
  </li>
  <li class="item item-checkbox">
     <label class="checkbox">
       <input type="checkbox" ng-model="details.mpesaFactory" value="1">
     </label>
     M-pesa to Factory
  </li>
  <li class="item item-checkbox">
     <label class="checkbox">
       <input type="checkbox" ng-model="details.mpesaSales" value="1">
     </label>
     M-pesa to Sales Representative
  </li>

</ul>
			</div>
<button class="button button-block button-calm">Send Data</button>
</div>
<div ng-if="!WRegion">
                <div class="card"> <div class="item">Set working location in settings</div></div>
                <div class="padding">
                    <a class="button button-block " href="#/app/setting" >
                        <i class="ion-gear-b icon"></i>&nbsp;settings
                    </a>
                </div>
            </div>
</form>
  </ion-content>
</ion-view>
